# 34일차

### DNS 장애 조치

동일한 기능을 수행하는 2개 이상의 리소스가 있는 경우, Route 53 을 사용해 리소스들의 상태를 확인하고 정상적인 리소스만 DNS 쿼리에 응답하도록 구성할 수 있다.

> Route 53 (DNS 서버라고 생각) → 2개 이상의 리소스
> 
- Amazon Route 53의 상태 확인 기능
- Ex) 2개 이상의 데이터 센터에서 각각 여러 대의 서버를 운영 → 서버에서  [example.com](http://example.com) 을 호스팅 중
    - Route 53이 서버들의 상태를 확인해서 정상적인 서버로만 트래픽을 라우팅 하도록 구성할 수 있다.

**동작 방법**

1. Route 53는 라우팅 정책을 기반으로 레코드를 선택합니다. 이 경우에는 가중치를 기반으로 레코드를 선택합니다.
2. 선택한 레코드에 대한 상태 확인의 상태를 확인하여 해당 레코드의 현재 상태를 판단합니다.
3. 선택한 레코드가 비정상인 경우 Route 53는 다른 레코드를 선택합니다. 이 경우 비정상적인 레코드는 고려 대상이 아닙니다.
4. Route 53가 정상인 레코드를 찾으면 A 레코드의 IP 주소와 같이 해당되는 값으로 쿼리에 응답합니다.