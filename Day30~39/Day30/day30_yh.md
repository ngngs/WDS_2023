# 클린코드 30일차

## 17장 냄새와 휴리스틱 (1)

### 개요

이번 장에서는 다음 2가지에 대해 모두 정리하였다.
1. 코드 냄새 (안 좋은 의미)
2. 기교와 휴리스틱 

> cf. 휴리스틱이란? <br/> <br/>
휴리스틱이란 의미를 사전에서 찾아보면 '시간이나 정보가 불충분하여 합리적인 판단을 할 수 없거나, 굳이 체계적이고 합리적인 판단을 할 필요가 없는 상황에서 신속하게 사용하는 어림짐작의 기술’로 표현된다. <br/><br/>
출처 : 세이프티퍼스트닷뉴스(https://www.safety1st.news)

### 주석

#### C5 : 주석 처리된 코드
"코드를 읽다가 주석으로 처리된 코드가 줄줄이 나오면 신경이 아주 거슬린다. 
얼마나 오래된 코드인지, 중요한 코드인지 알 수가 없으며, 쉬이 삭제하기도 어렵다."

이 '코드 냄새'는 상당히 공감이 됐다. 
실제로 내가 일하는 곳에서도 이러한 '주석 처리된 코드'를 아주 쉽게 찾아볼 수 있었는데, 
그때마다 지우지 못하고 그저 바라만 볼 수밖에 없었다. 
**따라서 만약 코드를 작성하다가 필요가 없어져 주석 처리했다면 나중에 꼭 지우는 습관을 가지도록 해야겠다.**  

### 함수

#### F3 : 플래그 인수
**boolean 파라미터를 갖는 함수는 최대한 피하는 것이 옳다.**

왜냐하면 boolean 파라미터는 함수가 1가지가 아니라 여러 기능을 수행한다는 의미이며, 
또한 true/false에 따라 output이 달라질 수 있다는 건 클라이언트 입장에서 굉장히 혼란스러울 수 있다.

### 일반
#### G10 : 수직 분리
변수와 함수는 사용되는 위치에 가깝게 정의한다. 

1. 지역 변수
- 처음으로 사용하기 직전에 선언, 수직으로 가까운 곳에 위치해야 한다.
- 선언한 위치로부터 몇백 줄 아래에서 사용하면 안 된다.

2. 비공개 함수 (private 메서드)
- 마찬가지로 처음으로 호출한 직후에 정의한다.

#### G13 : 인위적 결합
서로 무관한 개념을 인위적으로 결합하지 않는다. **예를 들어, 일반적인 enum은 특정 클래스에 속할 이유가 없다.**

#### G14 : 기능 욕심
마틴 파울러가 말하는 코드 냄새 중 하나다. **클래스 메서드는 자기 클래스의 변수와 함수에 관심을 가져야지 다른 클래스의 변수와 함수에 관심을 가져서는 안 된다.**


```java
예시 

public class HourlyPayCalculator{
    public Money calculateWeekelyPay(HourlyEmployee e){ // HourlyEmployee라는 클래스의 범위를 욕심내고 있다. 
        int tenthRate = e.getThenthRate().getPennies(); // 왜냐하면 해당 객체를 파라미터로 받아 사용하고 있긴 때문이다.
        int tenthsWorked = e.getTenthsWorked();
        ...
        return new Money(stratightPay + overtimePay);
    }
}
```