# 5일차

### 스토리지 서비스 비교

- S3 : 오브첵트 스토리지, 거의 무제한 용량 → 용량 계획 필요 없음
- EFS : NFS 프로토콜 지원, 리눅스 네트워크 파일 시스템, 수십~수백대의 EC2 인스턴스와 연결 가능
- FSx for Windows : SMB 프로코토 지원, 윈도우 네트워크 파일 시스템
- FSx for Lustre : 고성능 병렬처리, 고성능 컴퓨팅 리눅스 파일 시스템
- EBS : EC2 인스턴스에 연결 가능한 블록 스토리지
    
    *블록 스토리지: 데이터를 블록 단위로 저장
    
- Instance Store : 고성능 IOPS를 제공, 특정 EC2에서 제공하는 블록 스토리지
- Storage Gateway : 온-프레미스와 AWS 스토리지 연결 서비스
- Snow Family/Snowball : 1회성 대용량 데이터 오프라인 AWS 마이그레이션용 디바이스
- DataSync : 온프레미스 서버와 AWS 스토리지간 데이터 전송 및 복제를 **자동화**하는 서비스
- AWS Backup : 중앙 집중식 백업 관리 서비스

---

### CloudFront

- 엣지 로케이션의 캐싱 기능을 이용해서 사용자에게 콘텐츠를 더 빨리 배포하도록 지원하는 서비스
- 사용자와 가까운 리전의 엣지 로케이션에 오리진의 데이터를 캐싱
- 글로벌 배포
- 사용자 “요청 헤더값”에 따라 다른 버전의 콘텐츠를 캐싱하여 제공 가능

ex) 비디오 실시간 스트리밍, 오리진 서버 부하 감소

**Origin Group**

- 기본 Origin + 보조 Origin / Primary Origin + Secondary Origin
- 기본 Origin에서 에러 발생 > 에러 HTTP 응답 상태 코드 반환 > CloudFront에서 자동으로 보조 Origin에 접속하도록 전환한다. **//고가용성**

### Lambda@Edge

- CloudFront + Lambda
- **CloudFront에 이벤트가 발생할 때** 엣지 로케이션에서 컴퓨팅 서비스(lambda)를 실행할 수 있게 하는 서비스
- 이벤트 예시:
    - CloudFront가 사용자의 요청을 수신
    - CloudFront가 Origin으로 요청 전달 전
    - CloudFront가 Origin의 응답을 수신할 때
    - CloudFront가 사용자에게 응답을 반환하기 전

---

### +) 카카오 데이터 센터 화재 원인

1. 시스템 이중화 미흡
- 서비스 분산 배치와 데이터 이중화는 이루어져 있었음
- 하지만, 보안키 저장소나 오브젝트 스토리지의 메타 정보 시스템이 판교 데이터센터 내에서만 이중화되어 있었음 > 결국 다른 데이터 센터에 이중화 되어 있는 서비스를 이용할 수 없음, 자동 이중화 전환 불가능
1. 체계적인 시스템 이중화 부족으로 인한 연계 시스템 장애
- 1번 이유로 인해 자동으로 서비스 전환이 이뤄지지 않음 > 수동으로 이중화 전환해야 함
- but, 각기 의존하는 다른 시스템에 장애가 발생